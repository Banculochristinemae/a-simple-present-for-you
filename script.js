const personData = {
    "jela": { 
        message: "Wazzup, Jelalabs! Thank you for being such an amazing friend. Please bear in mind that I really, really appreciate and love you. I love talking and hanging out with you because it feels so calm and soft. Thanks for listening to my chikas and laughing at my corny jokes. May you receive a message from your crush this Valentine's Day. I labyu, my not-into-clingy chingu! ðŸ’–ðŸ«°", 
        image: "./jela.jpg", 
        color: "#9768D9" 
    },
    "jenny": { 
        message: "To a gorgeous and understanding person i know, Ate Jenny! Thank you treating me like your own sister and for always being there for me. I'm so grateful to have someone who listens to my rants and gives me advice whenever I need it. I hope you have a wonderful Valentine's Day filled with love and happiness. Lablots! ðŸ’•", 
        image: "./jenny.jpg", 
        color: "#A93CC7" 
    },
    "vaniza": { 
        message: "To one of the bravest people I know, always remember that we care for you and that we're proud of you. Please take care of yourself and don't let other people's opinions affect you. We love you, our chingu! ðŸ’•", 
        image: "./vaniza.jpg", 
        color: "#A93CC7" 
    },
    "roselyn": { 
        message: "Annyeong, my fave cousin Roselyn! Thank you for always being there whenever I need you. I'm so grateful to have someone who listens to my never-ending rants in life. Mahal Kita from South Korea!", 
        image: "./roselyn.jpg", 
        color: "#81d4fa" 
    },
    "nicole": { 
        message: "To our future nurse, Langga! Imysb that I want to fly every night just to hug you. You are strong, and I'm sure you will be successful in life. I'm always rooting for your success, my langga. May you receive a bouquet of flowers and a bunch of chocolates this Valentine's. Ingat ka lagi. I love you, beshhh! ðŸ’•ðŸŒ·ðŸ«", 
        image: "./nicole.jpg", 
        color: "#81d4fa" 
    },
    "vien": { 
        message: "Hello, my kakaibabe Vien! I just want you to know that I am so proud of you. Thank you for boosting my confidence, sharing your knowledge with me, and always choosing me. I'll never get tired of listening to your chikas. Labyaaa! ðŸ’•", 
        image: "./vien.jpg", 
        color: "#81d4fa" 
    },
    "hyla": { 
        message: "Hey, Habibi! I just want to say thank you for being such a good friend to me. I am so grateful that we met and that we became friends. I hope you have a wonderful Valentine's Day filled with love and happiness. Lablots! ðŸ’•", 
        image: "./hilary.jpg", 
        color: "#81d4fa" 
    },
    "dave": { 
        message: "Ni hao, Dabii! I just want to say that I really appreciate and treasure our friendship. I'm grateful to have someone with the same humor as me who understands my kaemehan sa life. keep in mind that I'm so proud of you and I'm rooting for your success. Lablots, my unserious kaduo! ðŸ«°", 
        image: "./dave.jpg", 
        color: "#81d4fa" 
    },
    "mon": { 
        message: "Hi, Kuya Mon! You know what? I'm thankful to God that I got to know you. I may not be your closest friend, but I'm grateful that we became friends. I hope you receive an unexpected blessing this Valentine's Day. Lablab lang ðŸ«°", 
        image: "./mon.jpg", 
        color: "#81d4fa" 
    },
    "jen": { 
        message: "To the small but strong-personality person I know, Jen! I just want to let you know how much I appreciate our friendship. I'm so grateful to be part of the OA girls, and I truly treasure the time we spend together. I know I wasn't a perfect friend to you all, but I'm grateful to see you happy right now. I hope you have a wonderful Valentine's Day filled with love and happiness. Lablots! ðŸ’•", 
        image: "./jenrich.jpg", 
        color: "#81d4fa" 
    },
    "relica": { 
        message: "To the most hardworking person I know, I just want to let you know how proud I am of you! Always bear in mind that your efforts are seen and appreciated. I know how tired you are, yet you still choose to fight, and that alone shows how strong and dedicated you are. I hope you're happy this Valentine's Day. Lablots! ðŸ’•", 
        image: "./relica.jpg", 
        color: "#81d4fa" 
    },
    "champagne": { 
        message: "Sawadika, Madam Champ! I just want to say thank you for being such a good friend to me and for always making me feel that I belong. I'm so grateful that we met and became friends. I love your bold and strong personality, and I truly admire you for being who you are. I hope you have a wonderful Valentine's Day filled with love and happiness. Labyaaaaa! ðŸ’•", 
        image: "./champagne.jpg", 
        color: "#AADB1E" 
    },
    "arlyn": { 
        message: "Konâ€™nichiwa, Arlyn! How are you these days? Kaya pa ba ang life? I hope you're doing well. I just wanted to say thank you for being a great friend to me since high school. I really appreciate all the fun times we've had together. Always keep in mind that I'm proud of you and I'm rooting for your success. Wishing you a Valentine's Day filled with love and happiness. Lablots! ðŸ’•", 
        image: "./arlyn.jpg", 
        color: "#AADB1E" 
    },
    "pen": { 
        message: "To the cutest person I know, Pen! I just want to say thank you for being such a good friend to me. I know I made a mistake before, but I'm grateful that you're in the right circle right now. I may not be part of that circle, but I'm happy to see you all growing and enjoying life. I hope you have a wonderful Valentine's Day filled with love and happiness. Lablots! ðŸ’•", 
        image: "./pen.jpg", 
        color: "#ffef00" 
    },
    "rose-ann": { 
        message: "To the most beautiful person I know, Rose-Ann! I know life isn't easy right now, we have a lot of things to deal with but I'm so proud of you. I'm always here for you if you need someone to talk to. Please don't let your thoughts consume you; we're here, your chingus, ready to listen. I wish you the best this Valentine's Day. Labyaaaaa! ðŸ’•", 
        image: "./rose-ann.jpg", 
        color: "#ff80ab" 
    },
    "bea": { 
        message: "To the most forgiving and forgetful person I know, Bea! I just want to let you know how grateful I am to have become your friend. I apologize for hurting your feelings before and for the late explanation of why I did that. Spending time with you and talking about the happenings in our lives is truly wholesome. I hope you find the right person who will never break your heart and will love you the way you deserve. God bless, my labidabs. Labyaaaaa! ðŸ’•", 
        image: "./bea.jpg", 
        color: "#ff80ab" 
    }
};

const defaultData = {
    message: "To someone receiving this gift, I just want to say thank you for being part of my life. I'm grateful for the moments we've shared and the memories we've created. Wishing you a wonderful Valentine's Day filled with love and happiness. Lablots! ðŸ«‚",
    image: "./default.jpg",
    color: "#ff4081"
};

let currentUser = "";

function startApp() {
    const input = document.getElementById('userName').value.trim().toLowerCase();
    if (!input) return;
    currentUser = input;
    const data = personData[currentUser] || defaultData;
    document.getElementById('miniImg').src = data.image;
    document.getElementById('setup-screen').style.display = 'none';
    document.getElementById('envelope-screen').style.display = 'flex';
}

function animateEnvelope() {
    document.querySelector('.envelope-container').classList.add('open');
    setTimeout(() => {
        const reveal = document.getElementById('reveal-screen');
        const envScreen = document.getElementById('envelope-screen');
        envScreen.style.transition = "opacity 0.5s";
        envScreen.style.opacity = "0";
        setTimeout(() => {
            envScreen.style.display = 'none';
            reveal.style.display = 'flex';
            setTimeout(() => reveal.style.opacity = "1", 50);
            revealPresent();
        }, 500);
    }, 1400); 
}

function revealPresent() {
    const data = personData[currentUser] || defaultData;
    document.getElementById('displayMessage').innerText = data.message;
    document.getElementById('displayImg').src = data.image;
    document.getElementById('greeting').innerText = `Happy Valentine's Day, ${currentUser.charAt(0).toUpperCase() + currentUser.slice(1)}!`;
    document.documentElement.style.setProperty('--tulip-color', data.color);
    for(let i=0; i<40; i++) setTimeout(createHeart, i * 200);
}

function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart-particle';
    heart.innerHTML = 'â¤ï¸';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.top = '80vh';
    heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 3000);
}